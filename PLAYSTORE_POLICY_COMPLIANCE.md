# Play Store Policy Compliance Documentation

## 구현 날짜: 2025-01-15

## 개요
Google Play Store 정책 준수를 위해 AI 일기 앱에 적용된 변경사항을 문서화합니다.

## 구현된 정책 준수 기능

### 1. 콘텐츠 필터링 및 정신 건강 지원 ✅
**파일**: `lib/utils/content_policy.dart`, `lib/screens/diary_screen.dart`

#### 구현 내용:
- 자해/자살 관련 키워드 감지 시스템
- 정신 건강 관련 키워드 발견 시 도움 리소스 자동 제공
- 금지된 콘텐츠(폭력, 성적, 차별적 내용 등) 필터링

#### 제공되는 리소스:
```
생명의 전화: 109 (24시간)
희망의 전화: 129 (24시간)
청소년 상담: 1388 (24시간)
```

#### 동작 방식:
1. 사용자가 일기 작성 후 AI 각색 요청
2. 콘텐츠 안전성 검사 실행
3. 정신 건강 키워드 발견 시 → 도움 리소스 다이얼로그 표시
4. 금지된 콘텐츠 발견 시 → AI 각색 차단 및 경고 메시지

### 2. AI 응답 신고 기능 ✅
**파일**: `lib/screens/diary_screen.dart`

#### 구현 내용:
- AI 생성 콘텐츠 하단에 "신고" 버튼 추가
- 신고 카테고리:
  - 부적절한 내용
  - 잘못된 정보
  - 해로운 콘텐츠
  - 기타 문제

#### 동작 방식:
1. AI 각색된 일기 하단의 신고 버튼 클릭
2. 신고 사유 선택 다이얼로그 표시
3. 신고 접수 확인 메시지 표시
4. (TODO: 서버로 신고 내용 전송 구현 필요)

### 3. 의료 목적 아님 면책조항 ✅
**파일**: `lib/screens/ai_disclaimer_screen.dart`

#### 구현 내용:
- 앱 최초 실행 시 AI 면책조항 화면 표시
- 의료 목적이 아님을 강조하는 빨간색 경고 섹션 추가
- 명확한 경고 문구:
  - "이 앱은 의료 목적이 아닙니다"
  - "개인 일기 작성 및 감정 기록용 앱입니다"
  - "정신 건강 치료나 상담을 대체할 수 없습니다"
  - "의료적 조언이나 진단을 제공하지 않습니다"
  - "심각한 정신 건강 문제는 전문가와 상담하세요"

### 4. 데이터 완전 삭제 기능 ✅
**파일**: `lib/screens/profile_screen.dart`

#### 구현 내용:
- 프로필 화면에 "계정 및 데이터 삭제" 메뉴 추가
- 2단계 확인 프로세스:
  1. 경고 다이얼로그 표시
  2. "삭제" 텍스트 입력 확인

#### 삭제되는 데이터:
- 모든 일기 데이터
- AI 생성 콘텐츠
- 구독 정보
- 계정 정보

#### 보안 장치:
- 되돌릴 수 없음 경고
- 텍스트 입력 확인 필수
- 명확한 경고 메시지

### 5. AI 생성 콘텐츠 명시 ✅
**파일**: `lib/utils/content_policy.dart`, `lib/screens/diary_screen.dart`

#### 구현 내용:
- AI 생성 콘텐츠에 명확한 라벨 표시
- "AI가 각색한 일기입니다" 워터마크
- AI 아이콘과 함께 "AI 생성 콘텐츠" 배지

### 6. 연령 제한 ✅
**파일**: `lib/utils/content_policy.dart`, `lib/screens/ai_disclaimer_screen.dart`

#### 구현 내용:
- 13세 이상 사용 권장 명시
- 면책조항에 연령 제한 안내 포함

## 추가 권장사항

### 서버 측 구현 필요 사항:
1. AI 응답 신고 API 엔드포인트
2. 실제 계정 삭제 API (현재 TODO 주석 처리)
3. 신고 내용 관리자 대시보드

### 개인정보처리방침 업데이트 필요:
1. AI 사용 관련 조항 추가
2. 데이터 삭제 정책 명시
3. 정신 건강 콘텐츠 처리 방침

## 테스트 체크리스트

- [x] 자해/자살 키워드 입력 시 리소스 표시 확인
- [x] 금지된 콘텐츠 입력 시 AI 각색 차단 확인
- [x] AI 응답 신고 버튼 동작 확인
- [x] 계정 삭제 프로세스 확인
- [x] AI 면책조항 화면 표시 확인

## 정책 준수 상태

✅ **완료된 항목:**
- AI 생성 콘텐츠 명시
- 부적절한 콘텐츠 필터링
- 정신 건강 리소스 제공
- AI 응답 신고 기능
- 의료 목적 아님 면책조항
- 데이터 완전 삭제 기능
- 연령 제한 안내

⚠️ **추가 구현 권장:**
- 서버 측 신고 처리 시스템
- 실제 계정 삭제 API 연동
- 개인정보처리방침 업데이트

## 파일 변경 목록

1. **lib/utils/content_policy.dart**
   - 정신 건강 키워드 리스트 추가
   - 도움 리소스 정보 추가

2. **lib/screens/diary_screen.dart**
   - ContentPolicy import 추가
   - _generateDiary 메서드에 콘텐츠 필터링 추가
   - _reportAIResponse 메서드 추가
   - _showMentalHealthResourcesDialog 메서드 추가
   - AI 응답 하단에 신고 버튼 추가

3. **lib/screens/ai_disclaimer_screen.dart**
   - 의료 목적 아님 강조 섹션 추가
   - 경고 색상 강화 (빨간색)

4. **lib/screens/profile_screen.dart**
   - 계정 삭제 메뉴 추가
   - _showDeleteAccountDialog 메서드 추가
   - _deleteAccount 메서드 추가
   - TextEditingController 추가

## 결론

Google Play Store의 AI 생성 콘텐츠 및 정신 건강 앱 관련 정책을 준수하기 위한 필수 기능들이 구현되었습니다. 사용자의 안전과 투명성을 최우선으로 하여, AI 사용 명시, 콘텐츠 필터링, 도움 리소스 제공, 데이터 삭제 기능을 모두 구현했습니다.